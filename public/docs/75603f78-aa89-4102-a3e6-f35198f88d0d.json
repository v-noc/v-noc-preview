[
  {
    "_key": "50275a39-ef6f-45a4-939e-e60dd66346ff",
    "_id": "documents/50275a39-ef6f-45a4-939e-e60dd66346ff",
    "created_at": "2026-01-26T08:37:13.112797Z",
    "updated_at": "2026-01-26T08:37:48.997464Z",
    "name": "Overview",
    "description": "overview",
    "data": "[{\"id\":\"844056e4-c7f1-484e-a69d-a06d0c543d71\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Function: _get_last_line\",\"styles\":{\"bold\":true}}],\"children\":[]},{\"id\":\"4249bedd-0599-4672-aef0-9b5b5a04c836\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Description\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"The \",\"styles\":{}},{\"type\":\"text\",\"text\":\"_get_last_line\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" function is a structural utility designed to determine the physical end-point of a code block in the source file. Given a starting AST node (such as a function or class definition), it traverses all child nodes within that block to identify the highest line number reached. This effectively calculates the \\\"span\\\" of a multi-line construct.\",\"styles\":{}}],\"children\":[]},{\"id\":\"fd364166-2ca6-4e60-885f-92c4f29aebf0\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Why this matters\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"AST nodes in Python typically only provide the line number where they \",\"styles\":{}},{\"type\":\"text\",\"text\":\"begin\",\"styles\":{\"italic\":true}},{\"type\":\"text\",\"text\":\" (e.g., the line with the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"def\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" keyword). However, for comprehensive analysis\u2014such as mapping which methods cover which lines or providing accurate code navigation\u2014the analyzer must know exactly where a block ends. This function provides that boundary, enabling the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"module_manager\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" to record the full range of lines occupied by every function and class.\",\"styles\":{}}],\"children\":[]},{\"id\":\"d4fc1a47-cd46-4c71-8cc2-3f177393fd2f\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"How it works\",\"styles\":{\"bold\":true}}],\"children\":[]},{\"id\":\"0b90412b-ad7b-4bc5-aa49-ba1644232e40\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Node Traversal:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It uses \",\"styles\":{}},{\"type\":\"text\",\"text\":\"ast.walk(node)\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" to create a list of every sub-node contained within the provided block.\",\"styles\":{}}],\"children\":[]},{\"id\":\"ed60b4cd-8ad9-4982-9db9-25969fab9bfa\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Sorting:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It sorts this list based on the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"lineno\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" attribute of each node in descending order (highest line number first).\",\"styles\":{}}],\"children\":[]},{\"id\":\"148c5d76-989d-4908-be44-9b319b7bddc9\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Attribute Retrieval:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It looks at the first item in the sorted list to find the maximum line number. It uses \",\"styles\":{}},{\"type\":\"text\",\"text\":\"getattr\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" to safely handle nodes that might lack line information.\",\"styles\":{}}],\"children\":[]},{\"id\":\"4b56853c-303f-4f59-ba06-b27ea9ae9532\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Validation:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It ensures that the calculated \\\"last line\\\" is not numerically smaller than the starting line (which can happen with certain AST transformations).\",\"styles\":{}}],\"children\":[]},{\"id\":\"f6cd2cc9-72f5-4350-a6e6-b48279618026\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Output:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It returns the integer representing the final line of the code block.\",\"styles\":{}}],\"children\":[]},{\"id\":\"d61a9192-9236-42d2-9a49-14239822ac1a\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Example Scenario\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"Consider a function definition:\",\"styles\":{}}],\"children\":[]},{\"id\":\"ca116ec9-9a01-4b97-96e1-fbe22f787352\",\"type\":\"codeBlock\",\"props\":{\"language\":\"python\"},\"content\":[{\"type\":\"text\",\"text\":\"def calculate(a, b):     # line 10\\n    result = a + b       # line 11\\n    return result        # line 12\",\"styles\":{}}],\"children\":[]},{\"id\":\"afec3b93-9c30-4436-b1d0-006c1be86579\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"_get_last_line\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" is called on the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"FunctionDef\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" node for \",\"styles\":{}},{\"type\":\"text\",\"text\":\"calculate\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"7a125fbd-a29b-4e55-ad10-9200bf4aaefd\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"ast.walk\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" finds the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"Assign\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" node (line 11) and the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"Return\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" node (line 12).\",\"styles\":{}}],\"children\":[]},{\"id\":\"61ff4177-de58-4d0d-81d2-39a7d09d7458\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"The nodes are sorted by line number.\",\"styles\":{}}],\"children\":[]},{\"id\":\"7088f44b-5323-419c-91c0-9b0cf4461eb5\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"The highest line number found is \",\"styles\":{}},{\"type\":\"text\",\"text\":\"12\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"5d5a4b4b-3f2c-47e8-8ab3-62656e0a5271\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"The function returns \",\"styles\":{}},{\"type\":\"text\",\"text\":\"12\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\", allowing the analyzer to record that \",\"styles\":{}},{\"type\":\"text\",\"text\":\"calculate\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" spans lines 10 through 12.\",\"styles\":{}}],\"children\":[]},{\"id\":\"defb709d-88ae-4f87-bdd2-35d053edaf10\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[],\"children\":[]}]"
  }
]