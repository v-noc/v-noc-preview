[
  {
    "_key": "66f731ad-8418-4b66-88f4-1ebf2e3c03cb",
    "_id": "documents/66f731ad-8418-4b66-88f4-1ebf2e3c03cb",
    "created_at": "2026-01-25T21:44:22.902754Z",
    "updated_at": "2026-01-25T21:44:36.463156Z",
    "name": "Overview",
    "description": "overview",
    "data": "[{\"id\":\"aefca8d5-8508-4d9f-b2ab-d91a9b6436cc\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Function: popStack\",\"styles\":{\"bold\":true}}],\"children\":[]},{\"id\":\"e38c98bc-eb69-44c3-b92e-24fc301abf2a\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Description\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"The \",\"styles\":{}},{\"type\":\"text\",\"text\":\"popStack\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" function serves as the \\\"exit gate\\\" for the analyzer\u2019s context management. It is called whenever the visitor finishes processing a block of code (like a function body, class definition, or module). Its primary role is to revert the analyzer's state to the parent context, reset internal counters, and commit any deferred side effects (changes) that occurred during the execution of the block.\",\"styles\":{}}],\"children\":[]},{\"id\":\"b992127c-20b1-4db3-81d6-5575844e5f96\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Why this matters\",\"styles\":{\"bold\":true}}],\"children\":[]},{\"id\":\"80705fb4-93f7-4d6e-8ecc-5206461a83f9\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Context Restoration:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" After analyzing a function, the analyzer must return to the exact file and scope it was in previously. \",\"styles\":{}},{\"type\":\"text\",\"text\":\"popStack\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" ensures the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"callStack\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" and \",\"styles\":{}},{\"type\":\"text\",\"text\":\"import_manager\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" are synchronized correctly so that subsequent analysis uses the right file paths and namespaces.\",\"styles\":{}}],\"children\":[]},{\"id\":\"f2481e08-9ad9-409a-8ce1-a72ca292241d\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"State Persistence:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" In static analysis, some variable changes are \\\"deferred\\\"\u2014meaning they are recorded during a function call but only applied to the global state once the function \\\"returns.\\\" \",\"styles\":{}},{\"type\":\"text\",\"text\":\"popStack\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" manages this \\\"commit\\\" process.\",\"styles\":{}}],\"children\":[]},{\"id\":\"b32b6c21-0138-4e7c-8590-8d0d838f7939\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Counter Reset:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" Blocks like \",\"styles\":{}},{\"type\":\"text\",\"text\":\"if\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" or \",\"styles\":{}},{\"type\":\"text\",\"text\":\"lambda\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" use counters to generate unique names. \",\"styles\":{}},{\"type\":\"text\",\"text\":\"popStack\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" resets these so that the analyzer starts fresh for the next sibling block.\",\"styles\":{}}],\"children\":[]},{\"id\":\"ae7f332d-52f5-47d7-830a-16380a7064e6\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"How it works\",\"styles\":{\"bold\":true}}],\"children\":[]},{\"id\":\"4873c2ea-8042-492f-b53a-370549dfd397\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Stack Removal:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It removes the top namespace from the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"callStack\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\", effectively exiting the current context.\",\"styles\":{}}],\"children\":[]},{\"id\":\"74136283-9907-4392-882c-871707a27f96\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Counter Reset:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It tells the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"callScope\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" to reset its internal counters (for lambdas, lists, dicts, etc.).\",\"styles\":{}}],\"children\":[]},{\"id\":\"29e36e06-0da8-4c19-bc70-122c6b9081b5\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Side Effect Application (\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"update_change\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\"):\",\"styles\":{\"bold\":true}}],\"children\":[{\"id\":\"317e7fd4-d9ad-4654-95c1-7e5d0c94b21c\",\"type\":\"bulletListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"If the block being exited is an \\\"entry\\\" point (like a function return), it checks the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"change_manager\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" for any modifications this block made to external variables.\",\"styles\":{}}],\"children\":[]},{\"id\":\"7aa239cb-9e49-4c98-96f9-b672cd8a04e8\",\"type\":\"bulletListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"It calls the internal \",\"styles\":{}},{\"type\":\"text\",\"text\":\"update_change\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" helper to officially apply these deferred values to the definitions in their respective parent scopes.\",\"styles\":{}}],\"children\":[]}]},{\"id\":\"a024aed0-8ce2-4b8d-b575-9d33a4146406\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Import Manager Sync:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It determines the namespace of the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"new\",\"styles\":{\"italic\":true}},{\"type\":\"text\",\"text\":\" top of the stack and updates the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"import_manager\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\". This ensures the analyzer is pointing at the correct file for the next line of code to be processed.\",\"styles\":{}}],\"children\":[]},{\"id\":\"2b067554-9133-40df-8c90-1864882bb3cc\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Example Scenario\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"Consider the analyzer is finishing a function \",\"styles\":{}},{\"type\":\"text\",\"text\":\"process_data()\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" which modified a global variable \",\"styles\":{}},{\"type\":\"text\",\"text\":\"STATUS\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\":\",\"styles\":{}}],\"children\":[]},{\"id\":\"a6cc8a93-d6c6-47ee-ab7c-db886b272138\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"popStack\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" is called.\",\"styles\":{}}],\"children\":[]},{\"id\":\"680d89de-9416-4cd3-a8d2-678df43ecf8f\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"It pops \",\"styles\":{}},{\"type\":\"text\",\"text\":\"module.process_data\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" off the stack.\",\"styles\":{}}],\"children\":[]},{\"id\":\"48caddc3-4acb-427d-ba8b-46aeb1560f5e\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"It finds that \",\"styles\":{}},{\"type\":\"text\",\"text\":\"process_data\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" recorded a change: \",\"styles\":{}},{\"type\":\"text\",\"text\":\"STATUS\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" becomes \",\"styles\":{}},{\"type\":\"text\",\"text\":\"\\\"DONE\\\"\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"a19a570f-10ca-4f54-a369-981ccbf40d44\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"update_change\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" is triggered: it finds the definition for \",\"styles\":{}},{\"type\":\"text\",\"text\":\"STATUS\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" and adds \",\"styles\":{}},{\"type\":\"text\",\"text\":\"\\\"DONE\\\"\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" to its value points.\",\"styles\":{}}],\"children\":[]},{\"id\":\"feb4bb63-a89a-4843-b8bc-ed708c329efe\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"The analyzer resets the lambda counter for \",\"styles\":{}},{\"type\":\"text\",\"text\":\"process_data\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"ace89c3f-01f8-4715-9d0f-06f834082a63\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"The analyzer updates the \",\"styles\":{}},{\"type\":\"text\",\"text\":\"import_manager\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" to point back to the module level, ready for the code following the function definition.\",\"styles\":{}}],\"children\":[]},{\"id\":\"7f5ebaae-5848-454a-9e9b-1b1a1e9a0c1d\",\"type\":\"divider\",\"props\":{},\"children\":[]},{\"id\":\"52f93a9a-4a5f-4b76-87fa-a61e6ab3c35b\",\"type\":\"heading\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\",\"level\":3,\"isToggleable\":false},\"content\":[{\"type\":\"text\",\"text\":\"Sub-functions\",\"styles\":{}}],\"children\":[]},{\"id\":\"8c92be55-7230-48d1-9fed-2663c4dd3e0c\",\"type\":\"heading\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\",\"level\":4,\"isToggleable\":false},\"content\":[{\"type\":\"text\",\"text\":\"Function: update_change\",\"styles\":{}}],\"children\":[]},{\"id\":\"419a9bc9-aac2-43ef-bc79-10ab7a16531d\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Description:\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"An internal utility that synchronizes deferred modifications back to the global state. It iterates through a dictionary of changes, identifies the appropriate scope for each variable, ensures a formal definition exists, and records the new value points at the specified line number.\",\"styles\":{}}],\"children\":[]},{\"id\":\"6387c75a-9ce9-468b-9183-26ea815b43cd\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[],\"children\":[]}]"
  }
]