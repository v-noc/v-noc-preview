[
  {
    "_key": "f5dad2f8-807d-4a75-8c1b-38ffe86ec452",
    "_id": "documents/f5dad2f8-807d-4a75-8c1b-38ffe86ec452",
    "created_at": "2026-01-25T21:20:46.880665Z",
    "updated_at": "2026-01-25T21:20:50.251141Z",
    "name": "Overview",
    "description": "overview",
    "data": "[{\"id\":\"cce10280-0657-4b3f-96ed-167bbf15dc9a\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Function: _visit_return\",\"styles\":{\"bold\":true}}],\"children\":[]},{\"id\":\"694b4e11-88ac-4b6b-8919-e8556d52f3df\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Description\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"The \",\"styles\":{}},{\"type\":\"text\",\"text\":\"_visit_return\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" function processes both \",\"styles\":{}},{\"type\":\"text\",\"text\":\"return\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" and \",\"styles\":{}},{\"type\":\"text\",\"text\":\"yield\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" statements in Python. Its goal is to determine what kind of data a function outputs. It treats the return value as an assignment to a special, invisible variable named \",\"styles\":{}},{\"type\":\"text\",\"text\":\"<return>\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" located within the function's scope.\",\"styles\":{}}],\"children\":[]},{\"id\":\"dad4cc75-600d-40f0-9be4-0ea792d695a2\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Why this matters\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"For a static analyzer to work across functions (inter-procedural analysis), it must know what a function returns. If \",\"styles\":{}},{\"type\":\"text\",\"text\":\"def get_user()\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" returns a \",\"styles\":{}},{\"type\":\"text\",\"text\":\"User\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" object, then \",\"styles\":{}},{\"type\":\"text\",\"text\":\"u = get_user()\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" means \",\"styles\":{}},{\"type\":\"text\",\"text\":\"u\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" is a \",\"styles\":{}},{\"type\":\"text\",\"text\":\"User\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\". This function captures that output type. By treating \\\"return\\\" as \\\"assigning to a variable named \",\"styles\":{}},{\"type\":\"text\",\"text\":\"<return>\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\",\\\" the analyzer reuses all its existing logic for variable tracking to handle function outputs.\",\"styles\":{}}],\"children\":[]},{\"id\":\"fdc72af0-cf52-446b-9281-f9651e2bcc35\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"How it works\",\"styles\":{\"bold\":true}}],\"children\":[]},{\"id\":\"18409946-eac0-4529-8993-526ec8bca410\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Value Analysis:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It visits and decodes the expression being returned (\",\"styles\":{}},{\"type\":\"text\",\"text\":\"node.value\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\"). If you write \",\"styles\":{}},{\"type\":\"text\",\"text\":\"return x + 1\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\", it calculates the definition result of that expression.\",\"styles\":{}}],\"children\":[]},{\"id\":\"b9cb5d1d-0ff6-4676-9125-e01fa97bf603\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Namespace Calculation:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It constructs the special namespace for the return value: \",\"styles\":{}},{\"type\":\"text\",\"text\":\"current_function_ns.<RETURN_NAME>\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" (e.g., \",\"styles\":{}},{\"type\":\"text\",\"text\":\"my_module.get_user.<return>\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\").\",\"styles\":{}}],\"children\":[]},{\"id\":\"f8693a0f-3b6c-4564-a5b7-9348424abee7\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Assignment Simulation:\",\"styles\":{\"bold\":true}}],\"children\":[{\"id\":\"5208ae19-bc93-4adb-b28a-038822d9e1f0\",\"type\":\"bulletListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"It calls the logic used for standard assignment (\",\"styles\":{}},{\"type\":\"text\",\"text\":\"_handle_assign\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\"), effectively saying: \",\"styles\":{}},{\"type\":\"text\",\"text\":\"my_module.get_user.<return> = [Result of node.value]\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"9eb3153f-e7fb-4000-a493-ccf79c209144\",\"type\":\"bulletListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"This records the type/definition of the returned data at that specific line number.\",\"styles\":{}}],\"children\":[]}]},{\"id\":\"a5eec8ad-69c3-424c-bcc8-b221bb08b914\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Scope Update:\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\" It ensures this special return definition is officially registered in the function's scope via \",\"styles\":{}},{\"type\":\"text\",\"text\":\"scope_manager\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"82bd03f0-7936-40ac-aa1d-993706846821\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Example Scenario\\n\",\"styles\":{\"bold\":true}},{\"type\":\"text\",\"text\":\"Code:\",\"styles\":{}}],\"children\":[]},{\"id\":\"38787389-9fed-4280-9e68-4669bb42d71d\",\"type\":\"codeBlock\",\"props\":{\"language\":\"python\"},\"content\":[{\"type\":\"text\",\"text\":\"def create_list():\\n    return [1, 2, 3]\",\"styles\":{}}],\"children\":[]},{\"id\":\"f6cbb1bb-6127-4c27-bdd4-ed2c5c50a054\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"_visit_return\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" analyzes \",\"styles\":{}},{\"type\":\"text\",\"text\":\"[1, 2, 3]\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"556e6cec-3472-423e-9814-4746d2616087\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"It resolves this to a List Definition.\",\"styles\":{}}],\"children\":[]},{\"id\":\"6277a673-54d8-4b38-b226-9585d5312f84\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"It finds/creates the definition \",\"styles\":{}},{\"type\":\"text\",\"text\":\"create_list.<return>\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"fffdec0d-d65e-4bd5-8427-979968b49e8f\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"It assigns the List Definition to \",\"styles\":{}},{\"type\":\"text\",\"text\":\"create_list.<return>\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"2833624a-ec46-4458-bb10-05b47af08e90\",\"type\":\"numberedListItem\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Later, when analyzing \",\"styles\":{}},{\"type\":\"text\",\"text\":\"x = create_list()\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\", the analyzer looks up \",\"styles\":{}},{\"type\":\"text\",\"text\":\"create_list.<return>\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\" and assigns that type (List) to \",\"styles\":{}},{\"type\":\"text\",\"text\":\"x\",\"styles\":{\"code\":true}},{\"type\":\"text\",\"text\":\".\",\"styles\":{}}],\"children\":[]},{\"id\":\"ed94aace-c8bd-4776-9067-2b0c1e759b71\",\"type\":\"paragraph\",\"props\":{\"backgroundColor\":\"default\",\"textColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[],\"children\":[]}]"
  }
]