{
  "id": "nodes/ff559ffe-3c5e-4938-b20b-2b24f19b60fa",
  "name": "ScopeItem",
  "node_type": "class",
  "qname": "Jarvis.machinery.scopes.ScopeItem",
  "file_path": "/Users/yared/Documents/Programing/personal/pythonJaRvis.github.io/Jarvis/tool/Jarvis/machinery/scopes.py",
  "file_name": "scopes",
  "code": "class ScopeItem(object):\n    \"\"\"ID: ff559ffe-3c5e-4938-b20b-2b24f19b60fa\"\"\"\n    def __init__(self, fullns, parent):\n        \"\"\"ID: c849a6c9-6106-4ebf-bd65-6f2d3752da4b\"\"\"\n        if parent and not isinstance(parent, ScopeItem):\n            raise ScopeError(\"Parent must be a ScopeItem instance\")\n\n        if not isinstance(fullns, str):\n            raise ScopeError(\"Namespace should be a string\")\n\n        self.parent = parent\n        self.defs = {}\n        self.lambda_counter = 0\n        self.dict_counter = 0\n        self.list_counter = 0\n        self.if_counter = 0\n        self.while_counter = 0\n        self.fullns = fullns\n        self.params = []\n        self.inputs = set()\n    def get_ns(self):\n        \"\"\"ID: 650760ab-3942-4780-9dbe-676508bfe734\"\"\"\n        return self.fullns\n\n    def get_defs(self):\n        \"\"\"ID: 98ec9661-80e1-4e0c-897b-fb813fd95410\"\"\"\n        return self.defs\n\n    def add_params(self,defi):\n        \"\"\"ID: ea78efa2-35ac-49f8-b985-d519c7e176c4\"\"\"\n        self.params.append(defi)\n    def get_def(self, name):\n        \"\"\"ID: 5974ccb2-75ec-4215-878c-668f979d95fd\"\"\"\n        defs = self.get_defs()\n        if name in defs:\n            return defs[name]\n        return None\n\n    def add_inputs(self,*args):\n        \"\"\"ID: 55c77a01-3915-4dff-a85b-97bab329af55\"\"\"\n        for i in args:\n            self.inputs = self.inputs.union(i)\n    def get_lambda_counter(self):\n        \"\"\"ID: 512e07ec-289d-4d2e-936c-f300f7160231\"\"\"\n        return self.lambda_counter\n\n    def get_dict_counter(self):\n        \"\"\"ID: bd5b9f29-1921-4c3b-bfac-8cedef6057a4\"\"\"\n        return self.dict_counter\n\n    def get_list_counter(self):\n        \"\"\"ID: b3488764-8f5a-4e70-a14c-0cb9a622ef5b\"\"\"\n        return self.list_counter\n\n    def get_if_counter(self):\n        \"\"\"ID: 4f957d0a-00d9-4826-8768-70bd118a279b\"\"\"\n        return self.if_counter\n\n    def get_while_counter(self):\n        \"\"\"ID: 7159bdd8-c7d9-481e-ac2e-9253449ee994\"\"\"\n        return self.while_counter\n\n    def inc_lambda_counter(self, val=1):\n        \"\"\"ID: f0b1cb6f-3493-40d6-bec5-4c52a8c72094\"\"\"\n        self.lambda_counter += val\n        return self.lambda_counter\n\n    def inc_dict_counter(self, val=1):\n        \"\"\"ID: 46850c46-de9f-4c89-831d-ebd0ad781e7a\"\"\"\n        self.dict_counter += val\n        return self.dict_counter\n\n    def inc_list_counter(self, val=1):\n        \"\"\"ID: 97194f1f-14f1-4a2a-b9c6-785c32392e7c\"\"\"\n        self.list_counter += val\n        return self.list_counter\n\n    def inc_if_counter(self,val=1):\n        \"\"\"ID: 02715ace-274e-4e92-b342-124448ebb9d2\"\"\"\n        self.if_counter += val\n        return self.if_counter\n\n    def inc_while_counter(self,val=1):\n        \"\"\"ID: 1cb166ad-8e07-44a5-9f56-44b07ac6be45\"\"\"\n        self.while_counter += val\n        return self.while_counter\n\n    def reset_counters(self):\n        \"\"\"ID: 80a57f81-486c-4ff7-b9ec-5623b09fadbf\"\"\"\n        self.lambda_counter = 0\n        self.dict_counter = 0\n        self.list_counter = 0\n        self.if_counter = 0\n        self.while_counter = 0\n\n    # \u5728scopt_item\u6dfb\u52a0\u4e00\u4e2adefi\n    def add_def(self, name, defi):\n        \"\"\"ID: 6bd4570a-5038-447b-ac0c-bcae98ff1ba2\"\"\"\n        self.defs[name] = defi\n\n    def merge_def(self, name, to_merge):\n        \"\"\"ID: 711349ee-a16d-40a8-8846-6d51e0a39b2f\"\"\"\n        if not name in self.defs:\n            self.defs[name] = to_merge\n            return\n\n        self.defs[name].merge_points_to(to_merge.get_points_to())\n\n\n    def get_prefix_defi(self,prefix:str)->list:\n        \"\"\"ID: ef9a7afc-7be6-44ce-8bbd-573165dbea89\"\"\"\n        defiNameList = []\n        for defi in self.defs.values():\n            if defi.get_ns().startswith(prefix):\n                defiNameList.append(defi)\n        return defiNameList\n\n    def get_params_defiNs(self)->list:\n        \"\"\"ID: cf4e2780-a1e3-411e-a8b5-b5a15f7dfb96\"\"\"\n        paramsDefiList = []\n        for param in self.params:\n            if param.get_type() == utils.constants.NAME_DEF:\n                continue\n            paramsDefiList += self.get_prefix_defi(param.get_ns())\n        return paramsDefiList\n\n    def __str__(self):\n        \"\"\"ID: d3125d58-a047-4fa1-9475-fa54bb415f26\"\"\"\n        def find_ns(ns):\n            \"\"\"ID: 63d448c7-b634-4c57-a2d1-9fd5b76bd142\"\"\"\n            for defiNs,defi in self.defs.items():\n                if defi.get_ns() == ns:\n                    return defi\n            return None\n        ans = self.fullns\n        ans += \"-\"\n        for param in self.params:\n            paramDefi = find_ns(param.get_ns())\n            if not param:\n                continue\n            else:\n                pointValue = param.get_last_point_value()\n                if not pointValue:\n                    tmp = param.get_ns() + \":\" + \"None\"\n                else:\n                    tmp = param.get_ns() + \":\" + utils.join_ns(*list(pointValue))\n            ans += tmp\n            ans += \"-\"\n        return ans\n",
  "position": {
    "line_no": 134,
    "col_offset": 0,
    "end_line_no": 283,
    "end_col_offset": 0
  }
}