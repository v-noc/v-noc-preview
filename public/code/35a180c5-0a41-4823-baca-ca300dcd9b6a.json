{
  "id": "nodes/35a180c5-0a41-4823-baca-ca300dcd9b6a",
  "name": "jarvis_cli",
  "node_type": "file",
  "qname": "Jarvis.jarvis_cli",
  "file_path": "/Users/yared/Documents/Programing/personal/pythonJaRvis.github.io/Jarvis/tool/Jarvis/jarvis_cli.py",
  "file_name": "jarvis_cli",
  "code": "# Copyright [pythonJaRvis] [name of copyright owner]\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n\"\"\"FileID: 35a180c5-0a41-4823-baca-ca300dcd9b6a\"\"\"\nimport argparse\nimport time\nimport formats\nfrom jarvis import CallGraphGenerator\nfrom utils.constants import CALL_GRAPH_OP, KEY_ERR_OP\nimport json\n\n\ndef main():\n    \"\"\"ID: f7c21343-f4c3-4c85-a425-954b5e5ca107\"\"\"\n    start_time = time.time()\n\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\"module\",\n                        nargs=\"*\",\n                        help=\"Modules to be processed\")\n    parser.add_argument(\n        \"--package\",\n        help=\"Package containing the code to be analyzed\",\n        default=None\n    )\n    parser.add_argument(\n        \"--decy\",\n        action=\"store_true\",\n        help=\"whether iterate the dependency\",\n        default=False\n    )\n    parser.add_argument(\n        \"--precision\",\n        action=\"store_true\",\n        help=\"whether flow-sensitive\",\n        default=False\n    )\n    parser.add_argument(\n        \"--entry_point\",\n        nargs=\"*\",\n        help=\"Entry Points to be processed\",\n        default=None\n    )\n\n    parser.add_argument(\n        \"-o\",\n        \"--output\",\n        help=\"Output path\",\n        default=None\n    )\n    args = parser.parse_args()\n    print(\"args \", args)\n    if not args.module:\n        raise Exception(\"Need Modules to be processed\")\n    cg = CallGraphGenerator(args.module, args.package, decy=args.decy,\n                            precision=args.precision, moduleEntry=args.entry_point)\n    cg.analyze()\n\n    formatter = formats.Simple(cg)\n    output = formatter.generate()\n    # if args.operation == CALL_GRAPH_OP:\n    #     if args.fasten:\n    #         formatter = formats.Fasten(cg, args.package,\n    #                                    args.product, args.forge, args.version, args.timestamp)\n    #     else:\n    #         formatter = formats.Simple(cg)\n    #     output = formatter.generate()\n    # else:\n    #     output = cg.output_key_errs()\n    output = formatter.generate()\n    as_formatter = formats.AsGraph(cg)\n\n    if args.output:\n        with open(args.output, \"w+\") as f:\n            f.write(json.dumps(output))\n    else:\n        print(json.dumps(output))\n\n\nif __name__ == '__main__':\n    main()\n"
}