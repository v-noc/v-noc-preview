{
  "id": "nodes/f5f3d546-7852-4565-8e17-7f5470b41263",
  "name": "Definition",
  "node_type": "class",
  "qname": "Jarvis.machinery.definitions.Definition",
  "file_path": "/Users/yared/Documents/Programing/personal/pythonJaRvis.github.io/Jarvis/tool/Jarvis/machinery/definitions.py",
  "file_name": "definitions",
  "code": "class Definition(object):\n    \"\"\"ID: f5f3d546-7852-4565-8e17-7f5470b41263\"\"\"\n    types = [\n        utils.constants.FUN_DEF,\n        utils.constants.MOD_DEF,\n        utils.constants.NAME_DEF,\n        utils.constants.CLS_DEF,\n        utils.constants.EXT_DEF,\n        utils.constants.IF_DEF,\n        utils.constants.ELSE_DEF,\n        utils.constants.WHILE_DEF,\n        utils.constants.PARAM_DEF,\n        utils.constants.NA_DEF,\n        utils.constants.RETURN_DEF,\n        utils.constants.INT_DEF,\n        utils.constants.STR_DEF,\n        utils.constants.LIST_DEF,\n        utils.constants.MAP_DEF,\n    ]\n\n    def __init__(self, fullns, def_type):\n        \"\"\"ID: 495a87db-98f2-4250-b089-9edb7d69bbef\"\"\"\n        self.fullns = fullns\n        self.def_type = def_type\n        self.points = []\n        self.bias = set()\n        self.lines = set()\n\n    def get_point(self, row) -> PointItem:\n        \"\"\"ID: 9a93221d-4ac9-4180-b097-51585696da16\"\"\"\n        cur_point = None\n        for point in self.points:\n            if point.row <= row:\n                cur_point = point\n            else:\n                break\n        return cur_point\n\n    def clear_point(self):\n        \"\"\"ID: 5de833be-fe9c-48cd-a1d9-e13fc53c5910\"\"\"\n        self.points = []\n\n    # \u6dfb\u52a0\u4e00\u4e2anamePointItem\n\n    def add_value_point(self, row, values):\n        \"\"\"ID: 874cf03e-1063-4a63-a0e2-ed3faa4eaa62\"\"\"\n        curPoint = None\n        point = PointItem(row, values)\n        heapq.heappush(self.points, point)\n        if isinstance(values,str):\n            values = [values]\n        if not gol.get_value('precision'):\n            self.bias = self.bias.union(set(values))\n\n    def get_type(self):\n        \"\"\"ID: 85c5e032-e4b3-4f0f-ab12-d7677d016c98\"\"\"\n        return self.def_type\n\n    def is_function_def(self):\n        \"\"\"ID: f0e939e3-cdb3-4e02-bd40-ea639f716011\"\"\"\n        return self.def_type == utils.constants.FUN_DEF\n\n    def is_ext_def(self, row=0):\n        \"\"\"ID: 249ea36a-461e-46ea-b48c-b4de4cdb5860\"\"\"\n        return self.def_type == utils.constants.EXT_DEF\n\n    def is_callable(self):\n        \"\"\"ID: a80645aa-d435-40e9-bea8-d50ea44d916e\"\"\"\n        return self.is_function_def() or self.is_ext_def()\n\n    # \u62ff\u5230PointItem\u7684value\n\n    def get_name(self):\n        \"\"\"ID: 5eb038d3-871e-47e3-a4df-47b95935d31c\"\"\"\n        return self.fullns.split(\".\")[-1]\n\n    def get_ns(self):\n        \"\"\"ID: 2d90a126-ca55-4fab-80ff-2bbeba0673b5\"\"\"\n        return self.fullns\n\n\n\n    def get_last_point_value(self):\n        \"\"\"ID: 3b34a6de-0ef3-4a3b-ab7d-6c60b5e60ce4\"\"\"\n        if not self.points:\n            return set()\n        return self.points[len(self.points) - 1].points_to.union(self.bias)\n    def set_element(self,key,value):\n        \"\"\"ID: 553e97b2-7eac-41c2-94de-767e38ec0904\"\"\"\n        if self.def_type not in [utils.constants.LIST_DEF, utils.constants.MAP_DEF]:\n            return\n            # raise DefinitionError(\"the definition doesn't belong to [List or Dict]\")\n        if not getattr(self,'memo',None):\n            self.memo = {}\n        self.memo[key] = value\n\n    def get_element(self,key):\n        \"\"\"ID: 0ccb41f1-8f72-4c2f-89fb-8d5b49af9699\"\"\"\n        if key not in self.memo:\n            return []\n        return self.memo[key]\n    def del_element(self,key):\n        \"\"\"ID: 7092a8db-f289-4c42-b39b-9db63579e356\"\"\"\n        if self.def_type not in [utils.constants.LIST_DEF, utils.constants.MAP_DEF]:\n            raise DefinitionError(\"the definition doesn't belong to [List or Dict]\")\n        if not getattr(self,'memo'):\n            return\n        del self.memo[key]\n",
  "position": {
    "line_no": 201,
    "col_offset": 0,
    "end_line_no": 309,
    "end_col_offset": 0
  }
}