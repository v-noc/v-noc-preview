{
  "id": "nodes/fd9ea3dd-0a19-4a26-9629-43341b7dd127",
  "name": "resolve_call",
  "node_type": "function",
  "qname": "Jarvis.processing.extProcessor.ExtProcessor.visit_Call.resolve_call",
  "file_path": "/Users/yared/Documents/Programing/personal/pythonJaRvis.github.io/Jarvis/tool/Jarvis/processing/extProcessor.py",
  "file_name": "extProcessor",
  "code": "def resolve_call():\n    \"\"\"ID: fd9ea3dd-0a19-4a26-9629-43341b7dd127\"\"\"\n    if decorator:\n        if isinstance(node, ast.Name):\n            self.visit(node)\n            if getattr(node, \"id\", None) and self.is_builtin(node.id):\n                name = utils.join_ns(\n                    utils.constants.BUILTIN_NAME, node.id)\n                defi = self.def_manager.get(name)\n                if not defi:\n                    self.def_manager.create(\n                        name, utils.constants.FUN_DEF)\n                return [name]\n            else:\n                curDefi: Definition = self.scope_manager.get_def(\n                    self.current_ns, node.id\n                )\n                if not curDefi:\n                    return []\n                # callDefiNsList = self.getPoint(curDefi.get_ns())\n                callDefiNsList = self.getYPOint(\n                    1000, [curDefi.get_ns()])\n                return callDefiNsList\n            pass\n        elif isinstance(node, ast.Attribute):\n            self.visit(node)\n            field = node.attr\n            xDefiList = self.decode_node(node.value)\n            XPointList = (\n                self.getYPOint(\n                    node.lineno, xDefiList) if xDefiList else []\n            )\n            xFieldList = list(\n                filter(\n                    lambda x: x,\n                    (map(lambda x: self.find_field(x, field), XPointList)),\n                )\n            )\n            return self.getYPOint(node.lineno, xFieldList)\n            pass\n        elif isinstance(node, ast.Call):\n            self.visit(node)\n            xDefiList = self.decode_node(node)\n            xRetList = self.getYPOint(node.lineno, xDefiList)\n            return xRetList\n        elif isinstance(node, ast.Subscript):\n            # Calls can be performed only on single indices, not ranges\n            full_names = self.retrieve_subscript_names(node)\n            return [full_names]\n        return\n    if isinstance(node.func, ast.Name):\n        self.visit(node.func)\n        if getattr(node.func, \"id\", None) and self.is_builtin(node.func.id):\n            name = utils.join_ns(\n                utils.constants.BUILTIN_NAME, node.func.id)\n            defi = self.def_manager.get(name)\n            if not defi:\n                self.def_manager.create(name, utils.constants.FUN_DEF)\n            return [name]\n        else:\n            curDefi: Definition = self.scope_manager.get_def(\n                self.current_ns, node.func.id\n            )\n            if not curDefi:\n                return []\n            # callDefiNsList = self.getPoint(curDefi.get_ns())\n            callDefiNsList = self.getYPOint(1000, [curDefi.get_ns()])\n            return callDefiNsList\n        pass\n    elif isinstance(node.func, ast.Attribute):\n        self.visit(node.func)\n        field = node.func.attr\n        xDefiList = self.decode_node(node.func.value)\n        XPointList = self.getYPOint(\n            node.lineno, xDefiList) if xDefiList else []\n        xFieldList = list(\n            filter(\n                lambda x: x,\n                (map(lambda x: self.find_field(x, field), XPointList)),\n            )\n        )\n        for XPoint in XPointList:\n            Xdefi = self.def_manager.get(XPoint)\n            if isinstance(Xdefi, Definition) and Xdefi.get_type() == utils.constants.MAP_DEF:\n                if field in ['update']:\n                    for index, param in enumerate(node.args):\n                        if isinstance(param, ast.Dict):\n                            for index, v in enumerate(param.values):\n                                decoded = self.decode_node(v)\n                                values = self.getYPOint(\n                                    node.lineno, decoded)\n                            # for v in param.values:\n                            #     values = self.getYPOint(node.lineno,v)\n                                Xdefi.set_element(index, values)\n                    # XPoint.add_value_point()\n        return self.getYPOint(node.lineno, xFieldList)\n        pass\n    elif isinstance(node.func, ast.Call):\n        self.visit(node.func)\n        xDefiList = self.decode_node(node.func)\n        xRetList = self.getYPOint(node.lineno, xDefiList)\n        return xRetList\n    elif isinstance(node.func, ast.Subscript):\n        # Calls can be performed only on single indices, not ranges\n        full_names = self.retrieve_subscript_names(node.func)\n        # return [full_names]\n        return full_names\n    return [None]\n",
  "position": {
    "line_no": 1193,
    "col_offset": 8,
    "end_line_no": 1301,
    "end_col_offset": 0
  }
}